"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.queueTimeout=exports.queueManager=exports.delay=exports.callWithParams=exports.pipe=exports.curry=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));require("core-js/stable"),require("regenerator-runtime/runtime");var functionHelpers={},curry=function e(r){return function(){for(var n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return t.length>=r.length?r.apply(void 0,t):function(){for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e(r).apply(void 0,[].concat(t,u))}}};exports.curry=curry,functionHelpers.curry=curry;var pipe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e){return r.reduce((function(e,r){return r(e)}),e)}};exports.pipe=pipe,functionHelpers.pipe=pipe;var callWithParams=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e.apply(void 0,(0,_toConsumableArray2.default)(r.slice(0,e.length||n)))};exports.callWithParams=callWithParams,functionHelpers.callWithParams=callWithParams;var delay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=function(){};return{resolver:new Promise((function(n,t){if(isNaN(e))t(new Error("Invalid delay: ".concat(e)));else{var u=setTimeout(n,e,"Delayed for: ".concat(e));r=function(){clearTimeout(u),t(new Error("Cancelled delay: ".concat(e)))}}})),cancel:r}};exports.delay=delay,functionHelpers.delay=delay;var queueManager=function e(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),u=1;u<n;u++)t[u-1]=arguments[u];e.queue=e.queue||[],e.isRunning=e.isRunning||!1;var a=function(){if(e.queue.length&&!e.isRunning){e.isRunning=!0;var r=e.queue.shift();r.generator.next(r.item)}return e.queue};return new Promise((function(n,u){var o=_regenerator.default.mark((function e(){var r;return _regenerator.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:return r=e.sent,e.abrupt("return","function"==typeof r.fn?n(r.fn.apply(r,(0,_toConsumableArray2.default)(r.args))):u(r));case 4:case"end":return e.stop()}}),e)}))();o.next(),e.queue.push({item:{fn:r,args:t},generator:o}),a()})).then((function(r){return e.isRunning=!1,a(),r}))};exports.queueManager=queueManager,functionHelpers.queueManager=queueManager;var queueTimeout=function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length,t=new Array(n>2?n-2:0),u=2;u<n;u++)t[u-2]=arguments[u];return queueManager((function(){return delay(r).resolver.then((function(){return e.apply(void 0,t)}))}))};exports.queueTimeout=queueTimeout,functionHelpers.queueTimeout=queueTimeout;var _default=functionHelpers;exports.default=_default;